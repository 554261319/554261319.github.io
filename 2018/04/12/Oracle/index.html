<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Oracle," />










<meta name="description" content="之前整理的Oracle笔记，作为一个后端开发，不懂Oracle是不能忍的（虽然我还只是只ROOKIE，2333333333333333）。">
<meta name="keywords" content="Oracle">
<meta property="og:type" content="article">
<meta property="og:title" content="Oracle">
<meta property="og:url" content="http://kitandrew.top/2018/04/12/Oracle/index.html">
<meta property="og:site_name" content="Kit.Andrew.Lee">
<meta property="og:description" content="之前整理的Oracle笔记，作为一个后端开发，不懂Oracle是不能忍的（虽然我还只是只ROOKIE，2333333333333333）。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-04-13T08:02:16.746Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Oracle">
<meta name="twitter:description" content="之前整理的Oracle笔记，作为一个后端开发，不懂Oracle是不能忍的（虽然我还只是只ROOKIE，2333333333333333）。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://kitandrew.top/2018/04/12/Oracle/"/>





  <title>Oracle | Kit.Andrew.Lee</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Kit.Andrew.Lee</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://kitandrew.top/2018/04/12/Oracle/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kit.Andrew.Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/touxiang.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kit.Andrew.Lee">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Oracle</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-12T21:23:37+08:00">
                2018-04-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Oracle/" itemprop="url" rel="index">
                    <span itemprop="name">Oracle</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
			<!--noindex-->
				<span class="post-comments-count">
				&nbsp;|&nbsp;
					<span class="post-meta-item-icon">
						<i class="fa fa-comment-o"></i>
						<a href="/2018/04/12/Oracle/#comments" itemprop="discussionUrl">
							<span class="post-comments-count hc-comment-count" data-xid="2018/04/12/Oracle/" itemprop="commentsCount"></span>
						</a>
					</span>
				</span>
			<!--/noindex--> 
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>之前整理的Oracle笔记，作为一个后端开发，不懂Oracle是不能忍的（虽然我还只是只ROOKIE，2333333333333333）。</p>
</blockquote>
<a id="more"></a>
<h3 id="常见关键字"><a href="#常见关键字" class="headerlink" title="常见关键字"></a>常见关键字</h3><p>create 创建    alter 修改     drop 扔掉    truncate 截断</p>
<p>insert 新建    delete删除    update 修改    query 查询    grant 授权    </p>
<p>revoke 撤销授权    commit 提交    rollback 回滚    savepoint 保存还原点</p>
<h3 id="基本语句"><a href="#基本语句" class="headerlink" title="基本语句"></a>基本语句</h3><h4 id="解锁-加锁账户："><a href="#解锁-加锁账户：" class="headerlink" title="解锁/加锁账户："></a>解锁/加锁账户：</h4><p>alter user <strong>username</strong> account <strong>unlock</strong>;</p>
<p>alter user <strong>username</strong> account <strong>lock</strong>;</p>
<h4 id="修改密码："><a href="#修改密码：" class="headerlink" title="修改密码："></a>修改密码：</h4><p>alter user <strong>username</strong> identified by <strong>password</strong>;</p>
<h4 id="创建账户："><a href="#创建账户：" class="headerlink" title="创建账户："></a>创建账户：</h4><p>create user <strong>username</strong> identified by <strong>password</strong>;</p>
<h4 id="给用户授权-撤销授权："><a href="#给用户授权-撤销授权：" class="headerlink" title="给用户授权/撤销授权："></a>给用户授权/撤销授权：</h4><p>grant <strong>dba</strong> to <strong>username</strong>;</p>
<p>revoke <strong>dba</strong> from <strong>username</strong>;</p>
<h4 id="删除用户："><a href="#删除用户：" class="headerlink" title="删除用户："></a>删除用户：</h4><p>drop user <strong>username</strong>;</p>
<h4 id="切换用户："><a href="#切换用户：" class="headerlink" title="切换用户："></a>切换用户：</h4><p>conn  username/password;</p>
<h4 id="查看当前用户："><a href="#查看当前用户：" class="headerlink" title="查看当前用户："></a>查看当前用户：</h4><p>show user;</p>
<h4 id="查看表结构"><a href="#查看表结构" class="headerlink" title="查看表结构"></a>查看表结构</h4><p>desc 表名；</p>
<h4 id="修改创建的表名"><a href="#修改创建的表名" class="headerlink" title="修改创建的表名"></a>修改创建的表名</h4><p>alter table 原表名  rename to 想更改表名；</p>
<h4 id="建表之后增加字段"><a href="#建表之后增加字段" class="headerlink" title="建表之后增加字段"></a>建表之后增加字段</h4><p>alter table 表名 add  字段名  字段类型；</p>
<h4 id="建表之后修改字段名"><a href="#建表之后修改字段名" class="headerlink" title="建表之后修改字段名"></a>建表之后修改字段名</h4><p>alter table 表名 rename column 字段名 to 想要更改表名；</p>
<h4 id="建表之后修改字段数据类型"><a href="#建表之后修改字段数据类型" class="headerlink" title="建表之后修改字段数据类型"></a>建表之后修改字段数据类型</h4><p>alter table 表名 modify 字段名  想要的数据类型；</p>
<h4 id="建表之后删除字段"><a href="#建表之后删除字段" class="headerlink" title="建表之后删除字段"></a>建表之后删除字段</h4><p>alter table 表名 drop column 想删除字段；</p>
<h4 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h4><p>drop table 表名 purge;</p>
<h4 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h4><p>insert into 表名() values();</p>
<h4 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h4><p>update student set name = ‘xiaogang’;</p>
<h4 id="删除数据"><a href="#删除数据" class="headerlink" title="删除数据"></a>删除数据</h4><p>delete from student where name = ‘xiaoxin’;</p>
<h4 id="查询数据"><a href="#查询数据" class="headerlink" title="查询数据"></a>查询数据</h4><p>select * from student;</p>
<h3 id="基本符号"><a href="#基本符号" class="headerlink" title="基本符号"></a>基本符号</h3><h4 id="like"><a href="#like" class="headerlink" title="like:"></a>like:</h4><p>%：代表任意位的任意字符</p>
<p>_:代表一位上任意字符</p>
<h4 id="escape逃离符："><a href="#escape逃离符：" class="headerlink" title="escape逃离符："></a>escape逃离符：</h4><p>指定一个字符逃离，保证like之后的字符串中出现的字符看作是普通字符。</p>
<p>Ex:select * from student where name like ‘xiao，_%’  escape ‘,’;</p>
<h3 id="运算符："><a href="#运算符：" class="headerlink" title="运算符："></a>运算符：</h3><h4 id="多行函数：聚组函数：组函数"><a href="#多行函数：聚组函数：组函数" class="headerlink" title="多行函数：聚组函数：组函数"></a>多行函数：聚组函数：组函数</h4><p>count（）记数sum（）求和avg（）平均 max（）最大min（）最小</p>
<h4 id="单行函数："><a href="#单行函数：" class="headerlink" title="单行函数："></a>单行函数：</h4><p>ceil（）：返回大于等于x的最小整数</p>
<p>floor（）：返回小于等于x的最大整数</p>
<h4 id="round（）：四舍五入"><a href="#round（）：四舍五入" class="headerlink" title="round（）：四舍五入"></a>round（）：四舍五入</h4><p>round（a1,a2）:保留指定位小数位的四舍五入</p>
<p>Ex:select round(3.1415926,3) from dual;  //返回3.142</p>
<h4 id="trunc（）-直接截断"><a href="#trunc（）-直接截断" class="headerlink" title="trunc（）:直接截断"></a>trunc（）:直接截断</h4><p>trunc（a1,a2）:保留制定位数的小数</p>
<h4 id="sign（）：求符号位-正数1-负数-1-零返回0"><a href="#sign（）：求符号位-正数1-负数-1-零返回0" class="headerlink" title="sign（）：求符号位 正数1 负数-1 零返回0"></a>sign（）：求符号位 正数1 负数-1 零返回0</h4><h4 id="abs（）：且绝对值"><a href="#abs（）：且绝对值" class="headerlink" title="abs（）：且绝对值"></a>abs（）：且绝对值</h4><h4 id="power（a-b）：求a的b次方"><a href="#power（a-b）：求a的b次方" class="headerlink" title="power（a,b）：求a的b次方"></a>power（a,b）：求a的b次方</h4><h4 id="sqrt（）：求正平方根"><a href="#sqrt（）：求正平方根" class="headerlink" title="sqrt（）：求正平方根"></a>sqrt（）：求正平方根</h4><h3 id="转换函数"><a href="#转换函数" class="headerlink" title="转换函数"></a>转换函数</h3><h4 id="to-number（c）：将一个字符类型的数字变成数值类型"><a href="#to-number（c）：将一个字符类型的数字变成数值类型" class="headerlink" title="to_number（c）：将一个字符类型的数字变成数值类型"></a>to_number（c）：将一个字符类型的数字变成数值类型</h4><h4 id="to-char（）：将数值类型转换为字符串"><a href="#to-char（）：将数值类型转换为字符串" class="headerlink" title="to_char（）：将数值类型转换为字符串"></a>to_char（）：将数值类型转换为字符串</h4><ol>
<li><p>将数字转换为字符串</p>
<p>select * from student where ‘456.12’ = to_char(salary);</p>
</li>
<li><p>常用于在货币单位，格式化字符串</p>
<p>select to_char(123123123123.00,’999,999,999,999,999.00’) from dual;</p>
</li>
<li><p>日期转换</p>
<p>to_char（日期，‘yyyy-MM-dd hh24:mi:ss’）</p>
<p>JAVA: yyyy-MM-dd HH:mi:ss</p>
<p>Oracle:yyyy-mm-dd hh24:mi:ss:xff                  ff3  毫秒数保留三位</p>
</li>
</ol>
<h4 id="to-date（c1-c2）"><a href="#to-date（c1-c2）" class="headerlink" title="to_date（c1,c2）"></a>to_date（c1,c2）</h4><p>c1:字符类型的日期</p>
<p>c2:格式</p>
<p>取出年</p>
<p>select to_char（to_date（‘2018-04-04’，‘yyyy-mm-dd’）,’yyyy’） from dual;</p>
<p>取出月   ‘yyyy’换成‘month’</p>
<p>取出日  ‘yyyy’ 换成‘dd’</p>
<p>日期函数：</p>
<p>日期可以加减（整数）运算  单位是：天  相差结果是多少天</p>
<p>两个日子没法相加</p>
<p>yyyy 年  year 年    mm   月  month 带”月”的月份    ddd  年中的天    dd   月中的天</p>
<p>d    周中的天        hh   12小时制    hh24 24小时制    mi   分钟        ss   秒    xff  毫秒</p>
<h4 id="add-months（c1-c2）-在某个日子上增加多少个月"><a href="#add-months（c1-c2）-在某个日子上增加多少个月" class="headerlink" title="add_months（c1,c2） 在某个日子上增加多少个月"></a>add_months（c1,c2） 在某个日子上增加多少个月</h4><p>c1:日期</p>
<p>c2:整数值</p>
<p>select add_months(sysdate,-1) from dual;</p>
<h4 id="months-between-c1-c2-计算两个日期之间的月份"><a href="#months-between-c1-c2-计算两个日期之间的月份" class="headerlink" title="months_between(c1,c2) 计算两个日期之间的月份"></a>months_between(c1,c2) 计算两个日期之间的月份</h4><p>计算方式：c1- c2</p>
<h4 id="last-day-计算给定日期的所在月份的最后一天"><a href="#last-day-计算给定日期的所在月份的最后一天" class="headerlink" title="last_day():计算给定日期的所在月份的最后一天"></a>last_day():计算给定日期的所在月份的最后一天</h4><h4 id="next-day-c1-c2"><a href="#next-day-c1-c2" class="headerlink" title="next_day(c1,c2)"></a>next_day(c1,c2)</h4><p>c1:日期</p>
<p>c2:周中的某天</p>
<h3 id="字符函数"><a href="#字符函数" class="headerlink" title="字符函数"></a>字符函数</h3><h4 id="lower-转换成小写"><a href="#lower-转换成小写" class="headerlink" title="lower():转换成小写"></a>lower():转换成小写</h4><h4 id="upper-转换成大写"><a href="#upper-转换成大写" class="headerlink" title="upper():转换成大写"></a>upper():转换成大写</h4><h4 id="initcap-首字母大写"><a href="#initcap-首字母大写" class="headerlink" title="initcap():首字母大写"></a>initcap():首字母大写</h4><h4 id="length-求长度"><a href="#length-求长度" class="headerlink" title="length():求长度"></a>length():求长度</h4><h4 id="substr-c1-c2-c3-截取字符串"><a href="#substr-c1-c2-c3-截取字符串" class="headerlink" title="substr(c1,c2,c3) 截取字符串"></a>substr(c1,c2,c3) 截取字符串</h4><p>c1:被截取的字符串</p>
<p>c2:从哪个位置开始截取</p>
<p>c3:截取长度   默认截取到最后</p>
<h4 id="instr-c1-c2-c3-c4-索引字符串"><a href="#instr-c1-c2-c3-c4-索引字符串" class="headerlink" title="instr(c1,c2,c3,c4) 索引字符串"></a>instr(c1,c2,c3,c4) 索引字符串</h4><p>c1:被查询的字符串</p>
<p>c2:希望找到的字符</p>
<p>c3:从哪个位置开始找  默认为1</p>
<p>c4:第几次出现</p>
<p>select instr(‘woshizhizhuxia’,’z’,1,2)  from dual;</p>
<h4 id="concat-c1-c2-拼接字符串-也可以用-拼接字符串"><a href="#concat-c1-c2-拼接字符串-也可以用-拼接字符串" class="headerlink" title="concat(c1,c2) 拼接字符串  也可以用 ||  拼接字符串"></a>concat(c1,c2) 拼接字符串  也可以用 ||  拼接字符串</h4><h4 id="Ipad-c1-c2-c3-左侧补全"><a href="#Ipad-c1-c2-c3-左侧补全" class="headerlink" title="Ipad(c1,c2,c3) 左侧补全"></a>Ipad(c1,c2,c3) 左侧补全</h4><h4 id="rpad-c1-c2-c3-右侧补全"><a href="#rpad-c1-c2-c3-右侧补全" class="headerlink" title="rpad(c1,c2,c3)右侧补全"></a>rpad(c1,c2,c3)右侧补全</h4><p>c1:希望补全的字符串</p>
<p>c2:补全到多少位</p>
<p>c3:以哪个字符来补全</p>
<h4 id="trim-c1-默认c1两侧去除空格"><a href="#trim-c1-默认c1两侧去除空格" class="headerlink" title="trim(c1) 默认c1两侧去除空格"></a>trim(c1) 默认c1两侧去除空格</h4><h4 id="trim-c1-from-c2-把c2的两侧溢出指定的c1"><a href="#trim-c1-from-c2-把c2的两侧溢出指定的c1" class="headerlink" title="trim(c1 from c2) 把c2的两侧溢出指定的c1"></a>trim(c1 from c2) 把c2的两侧溢出指定的c1</h4><h4 id="ltrim-c1-c2-左侧去除"><a href="#ltrim-c1-c2-左侧去除" class="headerlink" title="ltrim(c1,c2) 左侧去除"></a>ltrim(c1,c2) 左侧去除</h4><h4 id="rtrim-c1-c2-右侧去除"><a href="#rtrim-c1-c2-右侧去除" class="headerlink" title="rtrim(c1,c2)右侧去除"></a>rtrim(c1,c2)右侧去除</h4><p>c1:被去除的字符串</p>
<p>c2:去除的字符串  默认是空格</p>
<h4 id="replace-c1-c2-c3-完全替换"><a href="#replace-c1-c2-c3-完全替换" class="headerlink" title="replace(c1,c2,c3)  完全替换"></a>replace(c1,c2,c3)  完全替换</h4><p>c1:原字符串</p>
<p>c2:被替换的字符串</p>
<p>c3:替换的字符串</p>
<h3 id="通用函数"><a href="#通用函数" class="headerlink" title="通用函数"></a>通用函数</h3><h4 id="nvl-空值处理"><a href="#nvl-空值处理" class="headerlink" title="nvl():空值处理"></a>nvl():空值处理</h4><h4 id="nvl-字段，替换显示的内容"><a href="#nvl-字段，替换显示的内容" class="headerlink" title="nvl(字段，替换显示的内容)"></a>nvl(字段，替换显示的内容)</h4><h4 id="nvl2-空值处理二代"><a href="#nvl2-空值处理二代" class="headerlink" title="nvl2():空值处理二代"></a>nvl2():空值处理二代</h4><h4 id="nvl2-字段，不是空显示什么，是空显示什么"><a href="#nvl2-字段，不是空显示什么，是空显示什么" class="headerlink" title="nvl2(字段，不是空显示什么，是空显示什么)"></a>nvl2(字段，不是空显示什么，是空显示什么)</h4><h4 id="decode-c1-c2-c3-c4-c5-…-Cx-Cx-1"><a href="#decode-c1-c2-c3-c4-c5-…-Cx-Cx-1" class="headerlink" title="decode(c1,c2,c3,c4,c5,….Cx,Cx+1)"></a>decode(c1,c2,c3,c4,c5,….Cx,Cx+1)</h4><p>c1：原来拿来判断的值</p>
<p>从第二个参数开始，每两个参数看作是一组，拿每一组的第一个参数和c1进行比较</p>
<p>如果相同则返回该组的第二个参数</p>
<p>第一次判断：c2==c1?c3:</p>
<p>第二次判断：c4==c1?c5:</p>
<p>如果参数个数是奇数个，并且最终判断没有相同的数据，则返回空</p>
<p>如果参数个数是偶数个，并且最终判断没有相同的数据，则返回最后一个参数的值</p>
<h4 id="条件取值语句："><a href="#条件取值语句：" class="headerlink" title="条件取值语句："></a>条件取值语句：</h4><p>，（case email                    –开始条件取值</p>
<p>when ‘3’                             –当条件成立</p>
<p>then salary+200                  –则</p>
<p>when ‘7’ then salary-200      </p>
<p>else salary+500                   –默认值</p>
<p>end）                                  –结束</p>
<h4 id="排序-order-by"><a href="#排序-order-by" class="headerlink" title="排序  order by"></a>排序  order by</h4><p>排序字段：desc 代表降序  asc 代表升序</p>
<p>order by 后面可以加多个字段</p>
<p>order by 字段1 desc,字段2 asc</p>
<h4 id="分组-group-by-前面不能用where-可以在后面用having"><a href="#分组-group-by-前面不能用where-可以在后面用having" class="headerlink" title="分组  group by(前面不能用where 可以在后面用having)"></a>分组  group by(前面不能用where 可以在后面用having)</h4><p>根据某一个或多个列上的值，将该列上相同的值所在的记录划分为一个组，这样一张表就可以被划分为多个组，如</p>
<p>果以字段A分组，那么只能直接查询A。</p>
<p><strong>或者用组函数统计其他字段，不能直接查询其他字段。</strong></p>
<h3 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h3><h4 id="主键约束：primary-key"><a href="#主键约束：primary-key" class="headerlink" title="主键约束：primary key"></a>主键约束：primary key</h4><ol>
<li>可在表中唯一确定数据的列，主键列应为非空且唯一。</li>
<li>一张表只能有一个主键</li>
</ol>
<h4 id="外键约束：foreign-key-也可以写references"><a href="#外键约束：foreign-key-也可以写references" class="headerlink" title="外键约束：foreign key  也可以写references"></a>外键约束：foreign key  也可以写references</h4><p>在子表中，若一个列上的值引用了母表中主键上的值，这个列便是外键。</p>
<h4 id="非空：not-null"><a href="#非空：not-null" class="headerlink" title="非空：not null"></a>非空：not null</h4><h4 id="唯一：unique"><a href="#唯一：unique" class="headerlink" title="唯一：unique"></a>唯一：unique</h4><h4 id="检查：check"><a href="#检查：check" class="headerlink" title="检查：check"></a>检查：check</h4><ul>
<li><p>如何添加约束</p>
<ul>
<li><p>在创建表时直接添加约束</p>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">alter table 表名 add constraint 约束名 约束；</div><div class="line">Ex:</div><div class="line">alter table test add constraint a primary key(id);</div><div class="line"></div><div class="line">除not null（有些特殊）</div><div class="line">alter table test modify 列名 constraint 约束名 not null；</div><div class="line">Ex:</div><div class="line">alter table test modify salary constraint a not null;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>如何删除约束</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">alter table 表名 drop constraint 约束名;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h3><h4 id="内连接：inner-join-on-可简写为-join-on"><a href="#内连接：inner-join-on-可简写为-join-on" class="headerlink" title="内连接：inner join on   可简写为  join on"></a>内连接：inner join on   可简写为  join on</h4><p>展示出两张表中有对应关系的数据，可以理解为取交集；</p>
<h4 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h4><p><strong>左外连接：left join on </strong></p>
<p>展示左表中的全部数据和右表中与左表有对应关系的数据；</p>
<p>Ex:select * from student s left join class c on s.sid = c.id;</p>
<p><strong>右外连接；right join on</strong></p>
<p>展示右表中的全部数据与左表中与右表有对应关系的数据；</p>
<p>Ex:select * from student s right join class c on s.sid = c.id;</p>
<h4 id="全连接：full-join-on"><a href="#全连接：full-join-on" class="headerlink" title="全连接：full join on"></a>全连接：full join on</h4><p>显示两张表中有对应关系的数据，无对应关系的也展示。</p>
<h4 id="交叉连接（笛卡尔积）：cross-join"><a href="#交叉连接（笛卡尔积）：cross-join" class="headerlink" title="交叉连接（笛卡尔积）：cross join"></a>交叉连接（笛卡尔积）：cross join</h4><p>显示两张表中的数据一一交叉对应。</p>
<h4 id="什么时候用多表查询？什么时候用子表查询？"><a href="#什么时候用多表查询？什么时候用子表查询？" class="headerlink" title="什么时候用多表查询？什么时候用子表查询？"></a>什么时候用多表查询？什么时候用子表查询？</h4><p>如果查询数据在多个表内，要使用多表连接。</p>
<p>如果不使用子表的数据，只需要使用子表来当条件，需使用子表查询。</p>
<p>子查询中使用了In some any all 这几个关键字，效率低，可以使用多表关联的方式。</p>
<h4 id="rownum"><a href="#rownum" class="headerlink" title="rownum"></a>rownum</h4><p>rownum是一个伪列，也就是说不是真是存在的，它是随着结果集生成的。</p>
<p>rownum都是从1开始的。</p>
<p>当我们输入：select  *  from  表  where rownum &gt;5；不会匹配出任何数据，因为oracle只能确定第一个是哪个，</p>
<p>其他的它并不知道从那开始，认定为false；</p>
<p><strong>想要实现 rownum &gt; n </strong></p>
<p>rownum 本身是不行的，但是可以先查出一个记过集合，既子查询。    </p>
<p><strong>* 实现rownum &gt; n 时注意问题</strong></p>
<ol>
<li>rownum 不能与order by 同一查询语句中出现。（但在子查询中可使用order by）</li>
<li>不能使用    表名.rownum  </li>
<li>若rownum在where之后，只能写rownum &gt; 0 || rownum &lt; 任意数 || rownum &gt;= 1</li>
</ol>
<p>Ex:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">select * from</div><div class="line">	(</div><div class="line">		select rownum rn,e.* from </div><div class="line">			(</div><div class="line">				select * from student order by salary </div><div class="line">			)e</div><div class="line">		where rownum &lt; 9</div><div class="line">		//这里已经将取出的结果集再次排序</div><div class="line">	)</div><div class="line">where rn &gt; 5;</div></pre></td></tr></table></figure>
<p><strong>分页时确定当页从哪开始</strong></p>
<p>开始数：int startcount = （curpage -1 ) * pagesize + 1;</p>
<p>结束数：int endcount = curpage * pagesize; </p>
<h4 id="rowid"><a href="#rowid" class="headerlink" title="rowid"></a>rowid</h4><p>是映射每一行物理地址的唯一标识，通常用于删除完全重复的数据。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//删除重复的数据</div><div class="line">delete from table_name where rowid not in (select min(rowid) from table_name);</div></pre></td></tr></table></figure>
<h4 id="联合关键字：-union"><a href="#联合关键字：-union" class="headerlink" title="联合关键字： union"></a>联合关键字： union</h4><p>union:</p>
<p>select  * from school where name like ‘%大’</p>
<p>union </p>
<p>select * from school where name like ‘北%’;</p>
<p>若第一条语句中包含第二句中查询的内容，则只展示第一条语句查询的内容。</p>
<p>union all</p>
<p>若第一条语句中包含第二句中查询的内容，都展示出来。</p>
<h4 id="intersect-求交集"><a href="#intersect-求交集" class="headerlink" title="intersect 求交集"></a>intersect 求交集</h4><p>只展示两条语句查询的内容重复部分。</p>
<h4 id="minus-从第一个查询结果中减去第二个结果中重复出现的"><a href="#minus-从第一个查询结果中减去第二个结果中重复出现的" class="headerlink" title="minus 从第一个查询结果中减去第二个结果中重复出现的"></a>minus 从第一个查询结果中减去第二个结果中重复出现的</h4><h4 id="in-效率低，用exists代替-not-in"><a href="#in-效率低，用exists代替-not-in" class="headerlink" title="in(效率低，用exists代替)      not in"></a>in(效率低，用exists代替)      not in</h4><p>表示条件符合查询结果中某一个值就成立。</p>
<p>Ex:select * from school where id in (select sid  from stduent);</p>
<p>select * from school where id not in (select sid  from stduent);</p>
<h4 id="some-any"><a href="#some-any" class="headerlink" title="some/any"></a>some/any</h4><p>用法与In相同，In用于无符号，some/any 用与有符号。</p>
<h4 id="all-表示所有的值都大或都小（min-max代表第二条语句中的最大值最小值）"><a href="#all-表示所有的值都大或都小（min-max代表第二条语句中的最大值最小值）" class="headerlink" title="all 表示所有的值都大或都小（min,max代表第二条语句中的最大值最小值）"></a>all 表示所有的值都大或都小（min,max代表第二条语句中的最大值最小值）</h4><p>>any  ==  &gt;min</p>
<p>&lt;any  ==  &lt;max</p>
<p>>all    ==  &gt;max</p>
<all 1="" 4="" 100="" =="<min" ###="" 序列="" sequence="" 一个单独的数据对象，是一个能够生成有序的整数列值的对象。="" 一般oracle调用序列来实现主键自增。="" 在一个新的会话中，必须要调用下一个值才能获得当前的值。="" ####="" 如何创建序列="" create="" 序列名；="" seq_student="" increment="" by="" -1="" --增长，一次增1="" 正数+1="" 负数-1="" start="" with="" --从1开始="" 升序默认就是+1="" 降序-1="" minvalue="" --最小值="" -10的26次幂="" maxvalue="" --最大值="" 10的27次幂="" 序列超过最大值后会从minvalue="" 的数字重新开始="" cycle="" --循环="" 默认nocycle="" nocache;="" --不缓存="" cache="" 默认生成20个序列号="" 查询当前用户有多少序列="" select="" *="" from="" user_sequences;="" 获取下一个序列的值="" 序列名.nextval="" 如何获取当前序列的值="" 序列名.currval="" dual;="" 如何删除序列="" drop="" 如何修改序列="" alter="" 序列名="" 想要修改的序列条件；="" 消除延迟段创建特性="" session="" set="" deferred_segment_creation="false;" view="" 视图定义="" 视图="" 由select查询语句定义的逻辑表，**只有定义并无数据**，在创建视图时，只是将视图的定义信息保存在[数据字典](https:="" blog.csdn.net="" leshami="" article="" details="" 5711383)中，并不将任何实际数据复制即不在表空间中分配存储空间。可以像使用表一样使用视图（**使用视图的时候只是重新执行了sql**）。="" **通过视图看到的数据并不存储在视图中，数据存储在定义视图时查询的表（基表）。若基表中的数据发生改变视图也会自动更新。（若基表结构发生改变="" ，则需要="" 视图名="" compile）**="" 一个视图可以从另一个视图中产生。="" **oracle="" 的数据库对象分为五种：表，视图，序列，索引，同义词。**="" 为什么要使用视图="" -="" 使用视图，可以定制用户数据，焦距特定的数据（**即用户只能看到特定的行或列**）。="" ex：不同职位需求的数据不同，可以通过视图将特定的数据展示给特定的需求。="" 简单="" ex：在查询表中特定的某些数据时，需要调用一些函数，或者关联其他的表，最后写出的sql语句长，复杂。若查询经常执行可以创建一个视图，再次查询时只select="" 就ok了。="" 视图基本语法="" 创建视图="" <figure="" class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">CREATE [OR REPLACE][FORCE][NOFORCE] VIEW view_name </div><div class="line">AS SELECT_STATEMENT</div><div class="line">[WITH CHECK OPTION[CONSTRAINT constraint_name]]</div><div class="line">[WITH READ ONLY]</div></pre></td></tr></table>

<blockquote>
<p>REPLACE: 如果创建视图时，已经存在此视图，则重新创建此视图，相当于覆盖。</p>
<p>FORCE:强制创建视图，不论视图依赖的基表是否存在或者是否有权限创建。</p>
<p>NOFORCE:只有在基表存在且拥有创建权限才创建视图。</p>
<p>WITH CHECK OPTION :指出在视图上进行修改要符合SELECT_STATEMENT锁指定的限定条件。</p>
<p>WITH READ ONLY:<strong>默认可以通过对基表进行增删改查操作，WITH READ ONLY只允许查看视图，现实开发中并不会通过视图对基表进行增删改操作。</strong></p>
</blockquote>
<ul>
<li><p>视图的定义原则</p>
<ul>
<li>视图的查询可以使用复杂的 SELECT 语法，包括 连接/分组 和 子查询。</li>
<li>没有 WITH CHECK OPTION 和 READ ONLY，查询中不能使用 ORDER BY 子句。</li>
<li>OR REPLACE:不删除原视图便可更改其定义并重建，并重新赋予对象权限。</li>
</ul>
</li>
<li><p>删除视图</p>
<ul>
<li>删除视图的定义并不会影响基表的数据。</li>
<li>只有视图所有者或者拥有DROP VIEW权限的用户可以删除视图。</li>
<li>视图删除后，基于视图创建的其他视图将无效。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DROP VIEW view_name;</div></pre></td></tr></table></figure>
</li>
<li><p>视图分类</p>
<ul>
<li>简单视图<ul>
<li>只从单表获取数据。</li>
<li>不包含函数和数据组。</li>
<li>可以进行DML操作（不建议）。</li>
</ul>
</li>
<li>复杂视图<ul>
<li>从多个表里获取数据。</li>
<li>包含函数和数据组。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h4><p>视图适用于查询数据。</p>
<p>不要通过视图更改基表数据！</p>
<p>不要通过视图更改基表数据！</p>
<p>不要通过视图更改基表数据！</p>
<p>重要事情说三遍。</p>
<h3 id="Tablespace"><a href="#Tablespace" class="headerlink" title="Tablespace"></a>Tablespace</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><p>表空间:是一个或多个数据文件的<strong>逻辑</strong>集合。</p>
<p>表空间逻辑存储对象: </p>
<p>​                    永久段: 如表，索引，存储过程，视图。</p>
<p>​                    临时段:如临时表或排序段</p>
<p>​                    回滚段（UNDO）:主要用于事物回滚，恢复，撤销数据</p>
<p>逻辑结构:</p>
<p>block –&gt;extent –&gt;segment–&gt;tablespace–&gt;database</p>
<p>创建表空间:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">CREATE TABLESPACE  tablespace_name nologging </div><div class="line">DATAFILE &apos;&apos;            --文件存在位置</div><div class="line">SIZE 100M              --表空间初始大小</div><div class="line">AUTOEXTEND ON TEXT     --下一次扩展大小</div><div class="line">MAXSIZE                --最大值</div></pre></td></tr></table></figure>
<p>在创建时给用户指定表空间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CREATE USER user_name IDENTIFY BY password DEFAULT TABLESPACE tablespace_name;</div></pre></td></tr></table></figure>
<p>更改用户表空间</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ALTER USER user_name DEFAULT TABLESPACE tablespace_name;</div></pre></td></tr></table></figure>
<p>删除表空间（删除表空间后，需要为原指向此表空间的用户重新指定表空间）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DROP TABLESPACE tablespace_name [INCLUDING ONTENTS AND DATAFILES];</div></pre></td></tr></table></figure>
<h3 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h3><h4 id="索引类型"><a href="#索引类型" class="headerlink" title="索引类型:"></a>索引类型:</h4><ol>
<li><p>普通索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CREATE INDEX index_name on table_name(字段)</div></pre></td></tr></table></figure>
</li>
<li><p>唯一索引 unique</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CREATE UNIQUE INDEX index_name on table_name(字段)</div></pre></td></tr></table></figure>
</li>
<li><p>位图索引 bitmap  //这种索引适合用在数据量比较大，基数比较小的列   Ex:男/女</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CREATE BITMAP INDEX index_name on table_name(字段)</div></pre></td></tr></table></figure>
</li>
<li><p>函数索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CREATE INDEX index_name on table_name(函数（列名）)</div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="操作索引"><a href="#操作索引" class="headerlink" title="操作索引"></a>操作索引</h4><ol>
<li><p>重命名索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ALTER INDEX index_name rename to new_name;</div></pre></td></tr></table></figure>
</li>
<li><p>查看索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">SELECT index_name,index_type,tablespace_name,uniqueness from all_indexes where table_name = &apos;tablename&apos;;</div></pre></td></tr></table></figure>
</li>
<li><p>删除索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DROP INDEX index_name;</div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="合理使用索引"><a href="#合理使用索引" class="headerlink" title="合理使用索引"></a>合理使用索引</h4><p>创建唯一性索引，保证数据库表中每一行数据的唯一性。</p>
<p>大大加快数据的检索速度。</p>
<p>加速表与表之间的连接，特别是在实现数据的参考完整性方面特别有意义。</p>
<p>与此同时</p>
<p>创建索引和维护索引要耗费时间，这种时间随着数据量的增加而增加</p>
<p>索引需要占用物理空间，除了数据表占据空间之外，每一个索引都要占据一定的物理空间。</p>
<p>当对表中的数据进行增加，删除和修改的时候，索引也要动态的维护，降低了数据的维护速度。</p>
<h3 id="存储过程-procedure"><a href="#存储过程-procedure" class="headerlink" title="存储过程 procedure"></a>存储过程 procedure</h3><p>所谓存储过程就是在服务器端，能够被一个或多个应用程序调用的一段sql语句集。</p>
<h4 id="创建存储过程："><a href="#创建存储过程：" class="headerlink" title="创建存储过程："></a>创建存储过程：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">CREATE OR REPLACE PROCEDURE</div><div class="line">过程名（参数名 in 参数类型，参数名 in 参数类型，参数名 out 参数类型，参数名 out 参数类型）</div><div class="line">AS </div><div class="line">变量名 变量类型：=值；</div><div class="line">begin</div><div class="line">sql语句集</div><div class="line">end;</div><div class="line"></div><div class="line">Ex:</div><div class="line">create or replace procedure</div><div class="line">pro_hi(key in number,value out varchar)</div><div class="line">as</div><div class="line">begin</div><div class="line">if key=1</div><div class="line">then value = &apos;你好&apos;</div><div class="line">if key=2</div><div class="line">then value = &apos;再见&apos;</div><div class="line">end if;</div><div class="line">end if;</div><div class="line">end;</div><div class="line">/</div></pre></td></tr></table></figure>
<p>存储过程可以没有参数，如果没有参数则过程名之后不能出现括号。</p>
<p>存储过程可以有参数，可有多个参数传入或传出，也可只有传入或传出。</p>
<p>传入参数用in标明，传出参数用out表明。</p>
<p>存储过程并没有返回值，而是通过返回参数来返回数据的。</p>
<h4 id="调用存储过程："><a href="#调用存储过程：" class="headerlink" title="调用存储过程："></a>调用存储过程：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">declare</div><div class="line">变量 类型：=初始值;</div><div class="line">begin</div><div class="line">过程名（参数，变量）;</div><div class="line">end;</div><div class="line"></div><div class="line">Ex:</div><div class="line">declare </div><div class="line">val varchar2(20):=&apos;&apos;;</div><div class="line">begin</div><div class="line">pro_hi(1,val);</div><div class="line">dbms_output.put_line(val);</div><div class="line">pro_hi(2,val);</div><div class="line">dbms_output.put_line(val);</div><div class="line">end;</div></pre></td></tr></table></figure>
<h3 id="触发器-trigger"><a href="#触发器-trigger" class="headerlink" title="触发器 trigger"></a>触发器 trigger</h3><p>触发器，当某个事件发生时自动的隐式运行。</p>
<p>for each row 行级触发器</p>
<h4 id="创建触发器"><a href="#创建触发器" class="headerlink" title="创建触发器"></a>创建触发器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line">create or replace trigger trigger_name</div><div class="line">before/after insert/update/delete on table_name</div><div class="line">for each row</div><div class="line">begin</div><div class="line">sql语句集;</div><div class="line">end;</div><div class="line"></div><div class="line">Ex:</div><div class="line">--创建表</div><div class="line">create table good(</div><div class="line">id int primary key,</div><div class="line">good_name varchar2(20)</div><div class="line">);</div><div class="line"></div><div class="line">--创建序列</div><div class="line">create sequence seq_ids;</div><div class="line"></div><div class="line">--创建触发器</div><div class="line">create or replace trigger tri_insert_good</div><div class="line">before insert on good</div><div class="line">for each row</div><div class="line">begin</div><div class="line">select seq_ids.nextval</div><div class="line">into:new.id</div><div class="line">from dual;   --从序列中生成一个新的数值，赋值给当前插入行的ID列</div><div class="line">end;</div><div class="line"></div><div class="line">--增加数据，触发器</div><div class="line">insert into good(good_name)values(&apos;苹果&apos;);</div><div class="line"></div><div class="line">--创建日志表</div><div class="line">create table test_log(</div><div class="line">name varchar2(20),</div><div class="line">time date</div><div class="line">);</div><div class="line"></div><div class="line">--创建触发器</div><div class="line">create or replace trigger test_dept</div><div class="line">before delete or insert or update on dept</div><div class="line">declare var_tag varchar2(20);--声明一个变量，存储对dept表执行的操作类型</div><div class="line">begin</div><div class="line">if inserting then</div><div class="line">var_tag :=&apos;insert&apos;;</div><div class="line">elsif updating then</div><div class="line">var_tag :=&apos;update&apos;;</div><div class="line">elsif deleting then</div><div class="line">var_tag :=&apos;delete&apos;;</div><div class="line">end if;</div><div class="line">insert into test_log values(var_tag,sysdate);--向日志表中插入对dept表的操作信息</div><div class="line">end;</div><div class="line">--分别执行语句对dept表进行操作</div><div class="line">insert into dept values(66,&apos;教育部&apos;,&apos;济南&apos;);</div><div class="line">update dept set loc=&apos;易途&apos; where deptno = 66;</div><div class="line">delete from dept where deptno=66;</div><div class="line"></div><div class="line">select * from dept;</div><div class="line">select * from test_log;</div></pre></td></tr></table></figure>
<h3 id="SQL优化"><a href="#SQL优化" class="headerlink" title="SQL优化"></a>SQL优化</h3><ol>
<li>建议不要用*代替所有列名，需要什么查什么。</li>
<li>建议使用truncate代替delete（truncate在删除数据上比delete效率高）。</li>
<li>在确保语句的完整性的前提下尽量使用commit。</li>
<li>用exists代替in。</li>
<li>SQL语句写的时候尽量用大写，节省编译时间。</li>
<li>SQL语句中给表使用别名，减少解析时间。</li>
<li>合理使用索引。</li>
<li>表连接在where条件之前，数据多的纪录在where字句的末尾，表连接之前过滤掉的数据越多越好。</li>
<li>优化group by，将不需要的纪录在group by之前过滤掉。</li>
<li>尽量减少表的查询次数。</li>
</ol>
<h3 id="查询低效率执行的SQL"><a href="#查询低效率执行的SQL" class="headerlink" title="查询低效率执行的SQL"></a>查询低效率执行的SQL</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"> SELECT EXECUTIONS,DISK_READS,BUFFER_GETS, </div><div class="line">ROUND((BUFFER_GETSDISK_READS)/BUFFER_GETS,2)HIT_RADIO,</div><div class="line">ROUND(DISK_READS/EXECUTIONS,2) Reads_per_run,SQL_TEXT</div><div class="line"></div><div class="line">FROM V$SQLAREA </div><div class="line"></div><div class="line">WHERE EXECUTIONS &gt; 0 AND BUFFER_GETS &gt; 0 </div><div class="line">AND (BUFFER_GETS-DISK_READS)/BUFFER_GETS &lt; 0.8 </div><div class="line">ORDER BY 4 DESC;</div></pre></td></tr></table></figure>
<h3 id="常见语句关键字优先级"><a href="#常见语句关键字优先级" class="headerlink" title="常见语句关键字优先级"></a>常见语句关键字优先级</h3><p>from        –优先级最高</p>
<p>where         –优先级比from低</p>
<p>group by     –优先级比where低</p>
<p>having           – 优先级在group by之后</p>
<p>select          –优先级高于order by</p>
<p>order by         –优先级最低</p>
</all>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Oracle/" rel="tag"># Oracle</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/03/07/Java类型转换/" rel="next" title="Java类型转换">
                <i class="fa fa-chevron-left"></i> Java类型转换
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="hypercomments_widget"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/touxiang.jpg"
                alt="Kit.Andrew.Lee" />
            
              <p class="site-author-name" itemprop="name">Kit.Andrew.Lee</p>
              <p class="site-description motion-element" itemprop="description">笨蛋自以为聪明，聪明人才知道自己是笨蛋。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/554261319/" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:kit.andrew.lee@gmail.com/" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            
          </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://blog.github.kiuber.me/" title="Kiuber" target="_blank">Kiuber</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://bfchengnuo.com/" title="bfchengnuo" target="_blank">bfchengnuo</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#常见关键字"><span class="nav-number">1.</span> <span class="nav-text">常见关键字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基本语句"><span class="nav-number">2.</span> <span class="nav-text">基本语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#解锁-加锁账户："><span class="nav-number">2.1.</span> <span class="nav-text">解锁/加锁账户：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#修改密码："><span class="nav-number">2.2.</span> <span class="nav-text">修改密码：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建账户："><span class="nav-number">2.3.</span> <span class="nav-text">创建账户：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#给用户授权-撤销授权："><span class="nav-number">2.4.</span> <span class="nav-text">给用户授权/撤销授权：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#删除用户："><span class="nav-number">2.5.</span> <span class="nav-text">删除用户：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#切换用户："><span class="nav-number">2.6.</span> <span class="nav-text">切换用户：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#查看当前用户："><span class="nav-number">2.7.</span> <span class="nav-text">查看当前用户：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#查看表结构"><span class="nav-number">2.8.</span> <span class="nav-text">查看表结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#修改创建的表名"><span class="nav-number">2.9.</span> <span class="nav-text">修改创建的表名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#建表之后增加字段"><span class="nav-number">2.10.</span> <span class="nav-text">建表之后增加字段</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#建表之后修改字段名"><span class="nav-number">2.11.</span> <span class="nav-text">建表之后修改字段名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#建表之后修改字段数据类型"><span class="nav-number">2.12.</span> <span class="nav-text">建表之后修改字段数据类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#建表之后删除字段"><span class="nav-number">2.13.</span> <span class="nav-text">建表之后删除字段</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#删除表"><span class="nav-number">2.14.</span> <span class="nav-text">删除表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#插入数据"><span class="nav-number">2.15.</span> <span class="nav-text">插入数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#修改数据"><span class="nav-number">2.16.</span> <span class="nav-text">修改数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#删除数据"><span class="nav-number">2.17.</span> <span class="nav-text">删除数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#查询数据"><span class="nav-number">2.18.</span> <span class="nav-text">查询数据</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基本符号"><span class="nav-number">3.</span> <span class="nav-text">基本符号</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#like"><span class="nav-number">3.1.</span> <span class="nav-text">like:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#escape逃离符："><span class="nav-number">3.2.</span> <span class="nav-text">escape逃离符：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#运算符："><span class="nav-number">4.</span> <span class="nav-text">运算符：</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#多行函数：聚组函数：组函数"><span class="nav-number">4.1.</span> <span class="nav-text">多行函数：聚组函数：组函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#单行函数："><span class="nav-number">4.2.</span> <span class="nav-text">单行函数：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#round（）：四舍五入"><span class="nav-number">4.3.</span> <span class="nav-text">round（）：四舍五入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#trunc（）-直接截断"><span class="nav-number">4.4.</span> <span class="nav-text">trunc（）:直接截断</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sign（）：求符号位-正数1-负数-1-零返回0"><span class="nav-number">4.5.</span> <span class="nav-text">sign（）：求符号位 正数1 负数-1 零返回0</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#abs（）：且绝对值"><span class="nav-number">4.6.</span> <span class="nav-text">abs（）：且绝对值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#power（a-b）：求a的b次方"><span class="nav-number">4.7.</span> <span class="nav-text">power（a,b）：求a的b次方</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sqrt（）：求正平方根"><span class="nav-number">4.8.</span> <span class="nav-text">sqrt（）：求正平方根</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#转换函数"><span class="nav-number">5.</span> <span class="nav-text">转换函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#to-number（c）：将一个字符类型的数字变成数值类型"><span class="nav-number">5.1.</span> <span class="nav-text">to_number（c）：将一个字符类型的数字变成数值类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#to-char（）：将数值类型转换为字符串"><span class="nav-number">5.2.</span> <span class="nav-text">to_char（）：将数值类型转换为字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#to-date（c1-c2）"><span class="nav-number">5.3.</span> <span class="nav-text">to_date（c1,c2）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#add-months（c1-c2）-在某个日子上增加多少个月"><span class="nav-number">5.4.</span> <span class="nav-text">add_months（c1,c2） 在某个日子上增加多少个月</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#months-between-c1-c2-计算两个日期之间的月份"><span class="nav-number">5.5.</span> <span class="nav-text">months_between(c1,c2) 计算两个日期之间的月份</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#last-day-计算给定日期的所在月份的最后一天"><span class="nav-number">5.6.</span> <span class="nav-text">last_day():计算给定日期的所在月份的最后一天</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#next-day-c1-c2"><span class="nav-number">5.7.</span> <span class="nav-text">next_day(c1,c2)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符函数"><span class="nav-number">6.</span> <span class="nav-text">字符函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#lower-转换成小写"><span class="nav-number">6.1.</span> <span class="nav-text">lower():转换成小写</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#upper-转换成大写"><span class="nav-number">6.2.</span> <span class="nav-text">upper():转换成大写</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#initcap-首字母大写"><span class="nav-number">6.3.</span> <span class="nav-text">initcap():首字母大写</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#length-求长度"><span class="nav-number">6.4.</span> <span class="nav-text">length():求长度</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#substr-c1-c2-c3-截取字符串"><span class="nav-number">6.5.</span> <span class="nav-text">substr(c1,c2,c3) 截取字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#instr-c1-c2-c3-c4-索引字符串"><span class="nav-number">6.6.</span> <span class="nav-text">instr(c1,c2,c3,c4) 索引字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#concat-c1-c2-拼接字符串-也可以用-拼接字符串"><span class="nav-number">6.7.</span> <span class="nav-text">concat(c1,c2) 拼接字符串  也可以用 ||  拼接字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Ipad-c1-c2-c3-左侧补全"><span class="nav-number">6.8.</span> <span class="nav-text">Ipad(c1,c2,c3) 左侧补全</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rpad-c1-c2-c3-右侧补全"><span class="nav-number">6.9.</span> <span class="nav-text">rpad(c1,c2,c3)右侧补全</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#trim-c1-默认c1两侧去除空格"><span class="nav-number">6.10.</span> <span class="nav-text">trim(c1) 默认c1两侧去除空格</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#trim-c1-from-c2-把c2的两侧溢出指定的c1"><span class="nav-number">6.11.</span> <span class="nav-text">trim(c1 from c2) 把c2的两侧溢出指定的c1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ltrim-c1-c2-左侧去除"><span class="nav-number">6.12.</span> <span class="nav-text">ltrim(c1,c2) 左侧去除</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rtrim-c1-c2-右侧去除"><span class="nav-number">6.13.</span> <span class="nav-text">rtrim(c1,c2)右侧去除</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#replace-c1-c2-c3-完全替换"><span class="nav-number">6.14.</span> <span class="nav-text">replace(c1,c2,c3)  完全替换</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#通用函数"><span class="nav-number">7.</span> <span class="nav-text">通用函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#nvl-空值处理"><span class="nav-number">7.1.</span> <span class="nav-text">nvl():空值处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#nvl-字段，替换显示的内容"><span class="nav-number">7.2.</span> <span class="nav-text">nvl(字段，替换显示的内容)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#nvl2-空值处理二代"><span class="nav-number">7.3.</span> <span class="nav-text">nvl2():空值处理二代</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#nvl2-字段，不是空显示什么，是空显示什么"><span class="nav-number">7.4.</span> <span class="nav-text">nvl2(字段，不是空显示什么，是空显示什么)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#decode-c1-c2-c3-c4-c5-…-Cx-Cx-1"><span class="nav-number">7.5.</span> <span class="nav-text">decode(c1,c2,c3,c4,c5,….Cx,Cx+1)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#条件取值语句："><span class="nav-number">7.6.</span> <span class="nav-text">条件取值语句：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#排序-order-by"><span class="nav-number">7.7.</span> <span class="nav-text">排序  order by</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#分组-group-by-前面不能用where-可以在后面用having"><span class="nav-number">7.8.</span> <span class="nav-text">分组  group by(前面不能用where 可以在后面用having)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#约束"><span class="nav-number">8.</span> <span class="nav-text">约束</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#主键约束：primary-key"><span class="nav-number">8.1.</span> <span class="nav-text">主键约束：primary key</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#外键约束：foreign-key-也可以写references"><span class="nav-number">8.2.</span> <span class="nav-text">外键约束：foreign key  也可以写references</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#非空：not-null"><span class="nav-number">8.3.</span> <span class="nav-text">非空：not null</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#唯一：unique"><span class="nav-number">8.4.</span> <span class="nav-text">唯一：unique</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#检查：check"><span class="nav-number">8.5.</span> <span class="nav-text">检查：check</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多表查询"><span class="nav-number">9.</span> <span class="nav-text">多表查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#内连接：inner-join-on-可简写为-join-on"><span class="nav-number">9.1.</span> <span class="nav-text">内连接：inner join on   可简写为  join on</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#外连接"><span class="nav-number">9.2.</span> <span class="nav-text">外连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#全连接：full-join-on"><span class="nav-number">9.3.</span> <span class="nav-text">全连接：full join on</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#交叉连接（笛卡尔积）：cross-join"><span class="nav-number">9.4.</span> <span class="nav-text">交叉连接（笛卡尔积）：cross join</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#什么时候用多表查询？什么时候用子表查询？"><span class="nav-number">9.5.</span> <span class="nav-text">什么时候用多表查询？什么时候用子表查询？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rownum"><span class="nav-number">9.6.</span> <span class="nav-text">rownum</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rowid"><span class="nav-number">9.7.</span> <span class="nav-text">rowid</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#联合关键字：-union"><span class="nav-number">9.8.</span> <span class="nav-text">联合关键字： union</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#intersect-求交集"><span class="nav-number">9.9.</span> <span class="nav-text">intersect 求交集</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#minus-从第一个查询结果中减去第二个结果中重复出现的"><span class="nav-number">9.10.</span> <span class="nav-text">minus 从第一个查询结果中减去第二个结果中重复出现的</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#in-效率低，用exists代替-not-in"><span class="nav-number">9.11.</span> <span class="nav-text">in(效率低，用exists代替)      not in</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#some-any"><span class="nav-number">9.12.</span> <span class="nav-text">some/any</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#all-表示所有的值都大或都小（min-max代表第二条语句中的最大值最小值）"><span class="nav-number">9.13.</span> <span class="nav-text">all 表示所有的值都大或都小（min,max代表第二条语句中的最大值最小值）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#小结"><span class="nav-number">9.14.</span> <span class="nav-text">小结</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tablespace"><span class="nav-number">10.</span> <span class="nav-text">Tablespace</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#概念"><span class="nav-number">10.1.</span> <span class="nav-text">概念</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Index"><span class="nav-number">11.</span> <span class="nav-text">Index</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#索引类型"><span class="nav-number">11.1.</span> <span class="nav-text">索引类型:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#操作索引"><span class="nav-number">11.2.</span> <span class="nav-text">操作索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#合理使用索引"><span class="nav-number">11.3.</span> <span class="nav-text">合理使用索引</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#存储过程-procedure"><span class="nav-number">12.</span> <span class="nav-text">存储过程 procedure</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#创建存储过程："><span class="nav-number">12.1.</span> <span class="nav-text">创建存储过程：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#调用存储过程："><span class="nav-number">12.2.</span> <span class="nav-text">调用存储过程：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#触发器-trigger"><span class="nav-number">13.</span> <span class="nav-text">触发器 trigger</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#创建触发器"><span class="nav-number">13.1.</span> <span class="nav-text">创建触发器</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SQL优化"><span class="nav-number">14.</span> <span class="nav-text">SQL优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查询低效率执行的SQL"><span class="nav-number">15.</span> <span class="nav-text">查询低效率执行的SQL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常见语句关键字优先级"><span class="nav-number">16.</span> <span class="nav-text">常见语句关键字优先级</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kit.Andrew.Lee</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      本站访客数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	

		<script type="text/javascript">
		_hcwp = window._hcwp || [];

		_hcwp.push({widget:"Bloggerstream", widget_id: 102248, selector:".hc-comment-count", label: "{\%COUNT%\}" });

		
		_hcwp.push({widget:"Stream", widget_id: 102248, xid: "2018/04/12/Oracle/"});
		

		(function() {
		if("HC_LOAD_INIT" in window)return;
		HC_LOAD_INIT = true;
		var lang = (navigator.language || navigator.systemLanguage || navigator.userLanguage || "en").substr(0, 2).toLowerCase();
		var hcc = document.createElement("script"); hcc.type = "text/javascript"; hcc.async = true;
		hcc.src = ("https:" == document.location.protocol ? "https" : "http")+"://w.hypercomments.com/widget/hc/102248/"+lang+"/widget.js";
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(hcc, s.nextSibling);
		})();
		</script>

	
















  





  

  

  
  

  

  

  

</body>
</html>
